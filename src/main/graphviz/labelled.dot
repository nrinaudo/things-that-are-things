digraph {
    Start[class="extremity"]
    Goal[class="extremity"]

    FAFB[label="Labelled[A]×Labelled[B]" class="start"]
    FA[label="Labelled[A]"]
    FB[label="Labelled[B]"]
    XX[label="String×String"]
    AB[label="A×B"]
    FC[label="Labelled[C]" class="goal"]
    X[label="String" style="invis"]

    {
        rank=same
        FA -> FB[style="invis"]
    }

    {
        rank=same
        XX -> AB[style="invis"]
    }

        {
        rank=same
        X -> C[style="invis"]
    }

    FAFB -> FA
    FAFB -> FB
    FA -> XX
    FA -> AB
    FB -> XX
    FB -> AB
    XX -> X[label="combine" style="invis"]
    AB -> C[label="f"]
    X -> FC[style="invis"]
    C -> FC[style="invis"]

    Start -> FAFB[class="start"]
    FC -> Goal[class="goal"]
}
